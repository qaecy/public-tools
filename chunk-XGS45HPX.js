import{a as ce,b as pe}from"./chunk-US4LGVEV.js";import{c as be,d as ye}from"./chunk-XH644ECB.js";import{b as _e,e as fe,f as ue}from"./chunk-2ELQPX5B.js";import{a as se}from"./chunk-HGQPUHNU.js";import{a as ae,h as oe}from"./chunk-NZQVPUIM.js";import{b as le,f as me,h as de,k as ge}from"./chunk-C5TAFYHE.js";import{a as ie}from"./chunk-OIPN42EH.js";import{P as ee,ea as te,ha as re,ia as ne}from"./chunk-L6BWHE7V.js";import{$ as D,$b as f,Ab as Y,Ca as z,Cb as Z,Da as L,Db as H,Eb as l,Fb as a,Gb as h,Hb as I,Ib as B,Ja as R,Jc as K,Kb as C,Mb as V,Mc as $,Nb as d,Wb as g,Xb as J,Za as m,Zb as p,_ as A,_a as x,_b as _,ba as O,bc as T,ea as E,gb as X,ia as M,ja as F,lb as P,ob as N,oc as Q,ra as u,sa as b,sb as S,sc as W,tb as j,ub as y,vb as k,wb as G,xb as q,zb as U}from"./chunk-NZYFJ7MV.js";import{j as w}from"./chunk-RZZ4GCVR.js";var Ce=(()=>{let i=class i{processFile(s,t,e,c){return w(this,null,function*(){this._settings=t,this._processingResult=void 0;let o=new oe;o.settings=t;let v=URL.createObjectURL(s);console.time("Processing file"),yield o.loadModel(v,!1,e,c),this._processingResult=yield o.getProcessingResult(),console.log(this._processingResult),console.timeEnd("Processing file"),this._geometryDefinition=o.getGeometryDefinition(),this._geometryDefinitionTangible=o.getGeometryDefinition(!0),o.dispose()})}buildForGithub(){return w(this,null,function*(){let s=this._processingResult;if(s===void 0){console.error("File not processed");return}let t={type:"blob",compression:"DEFLATE",compressionOptions:{level:6}},e=new JSZip;e.file(`backend/${s.globalDataFileId}`,s.globalModel),this._settings?.includeLBDTriples&&e.file(`backend/${this._settings.lbdParserSettings.fileName}`,s.lbdTriples),Object.keys(s.geometryTiles).forEach(o=>{let v=`backend/${o}`;e.file(v,s.geometryTiles[o])}),e.file("frontend/geometry.json",JSON.stringify(this._geometryDefinition)),e.file("frontend/geometry-tangible.json",JSON.stringify(this._geometryDefinitionTangible));let c=yield e.generateAsync(t);ie(c)})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function xe(n,i){n&1&&h(0,"div",2)}var Me=new O("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var ve=(()=>{let i=class i{constructor(s,t,e,c,o){this._elementRef=s,this._ngZone=t,this._changeDetectorRef=e,this._animationMode=c,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new L,this._mode="determinate",this._transitionendHandler=v=>{this.animationEnd.observers.length===0||!v.target||!v.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=c==="NoopAnimations",o&&(o.color&&(this.color=this._defaultColor=o.color),this.mode=o.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(s){this._color=s}get value(){return this._value}set value(s){this._value=Se(s||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(s){this._bufferValue=Se(s||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(s){this._mode=s,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}};i.\u0275fac=function(t){return new(t||i)(x(z),x(X),x(Q),x(R,8),x(Me,8))},i.\u0275cmp=M({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(t,e){t&2&&(j("aria-valuenow",e._isIndeterminate()?null:e.value)("mode",e.mode),q("mat-"+e.color),G("_mat-animation-noopable",e._isNoopAnimation)("mdc-linear-progress--animation-ready",!e._isNoopAnimation)("mdc-linear-progress--indeterminate",e._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",W],bufferValue:[2,"bufferValue","bufferValue",W],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[N,T],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,e){t&1&&(l(0,"div",0),h(1,"div",1),S(2,xe,1,0,"div",2),a(),l(3,"div",3),h(4,"span",4),a(),l(5,"div",5),h(6,"span",4),a()),t&2&&(m(),k("flex-basis",e._getBufferBarFlexBasis()),m(),U(e.mode==="buffer"?2:-1),m(),k("transform",e._getPrimaryBarTransform()))},styles:[`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}`],encapsulation:2,changeDetection:0});let n=i;return n})();function Se(n,i=0,r=100){return Math.max(i,Math.min(r,n))}var we=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=F({type:i}),i.\u0275inj=D({imports:[ee]});let n=i;return n})();function Te(n,i){if(n&1){let r=C();l(0,"mat-slide-toggle",5),f("ngModelChange",function(t){let e=u(r).$implicit,c=d(2);return _(c.enabledParsers[e],t)||(c.enabledParsers[e]=t),b(t)}),g(1),a()}if(n&2){let r=i.$implicit,s=d(2);p("ngModel",s.enabledParsers[r]),m(),J(r)}}function Ee(n,i){if(n&1){let r=C();l(0,"mat-slide-toggle",5),f("ngModelChange",function(t){u(r);let e=d(2);return _(e.settings.lbdParserSettings.subSettings.bot.includeInterfaces,t)||(e.settings.lbdParserSettings.subSettings.bot.includeInterfaces=t),b(t)}),g(1,"Include BOT interfaces"),a()}if(n&2){let r=d(2);p("ngModel",r.settings.lbdParserSettings.subSettings.bot.includeInterfaces)}}function ke(n,i){if(n&1){let r=C();l(0,"mat-slide-toggle",5),f("ngModelChange",function(t){u(r);let e=d(2);return _(e.settings.lbdParserSettings.subSettings.products.includeParents,t)||(e.settings.lbdParserSettings.subSettings.products.includeParents=t),b(t)}),g(1,"Include product parents"),a()}if(n&2){let r=d(2);p("ngModel",r.settings.lbdParserSettings.subSettings.products.includeParents)}}function Ie(n,i){if(n&1){let r=C();l(0,"mat-slide-toggle",5),f("ngModelChange",function(t){u(r);let e=d(2);return _(e.settings.lbdParserSettings.subSettings.fso.includePorts,t)||(e.settings.lbdParserSettings.subSettings.fso.includePorts=t),b(t)}),g(1,"Include ports"),a()}if(n&2){let r=d(2);p("ngModel",r.settings.lbdParserSettings.subSettings.fso.includePorts)}}function Be(n,i){if(n&1){let r=C();l(0,"mat-slide-toggle",5),f("ngModelChange",function(t){u(r);let e=d(2);return _(e.settings.lbdParserSettings.subSettings.qcy.includeSelectors,t)||(e.settings.lbdParserSettings.subSettings.qcy.includeSelectors=t),b(t)}),g(1,"Include qcy selectors"),a()}if(n&2){let r=d(2);p("ngModel",r.settings.lbdParserSettings.subSettings.qcy.includeSelectors)}}function Ve(n,i){if(n&1){let r=C();l(0,"mat-form-field")(1,"mat-label"),g(2,"Volume Proportion Predicate"),a(),l(3,"input",4),f("ngModelChange",function(t){u(r);let e=d(2);return _(e.settings.lbdParserSettings.subSettings.bpo.volumeProportionPredicate,t)||(e.settings.lbdParserSettings.subSettings.bpo.volumeProportionPredicate=t),b(t)}),a()()}if(n&2){let r=d(2);m(3),p("ngModel",r.settings.lbdParserSettings.subSettings.bpo.volumeProportionPredicate)}}function We(n,i){if(n&1){let r=C();I(0),l(1,"mat-slide-toggle",5),f("ngModelChange",function(t){u(r);let e=d(2);return _(e.settings.lbdParserSettings.subSettings.geometry.makeOpeningsInvisible,t)||(e.settings.lbdParserSettings.subSettings.geometry.makeOpeningsInvisible=t),b(t)}),g(2,"Make openings invisible"),a(),l(3,"mat-slide-toggle",5),f("ngModelChange",function(t){u(r);let e=d(2);return _(e.settings.lbdParserSettings.subSettings.geometry.makeSpacesTransparent,t)||(e.settings.lbdParserSettings.subSettings.geometry.makeSpacesTransparent=t),b(t)}),g(4,"Make spaces transparent"),a(),l(5,"mat-slide-toggle",5),f("ngModelChange",function(t){u(r);let e=d(2);return _(e.settings.lbdParserSettings.subSettings.geometry.writeOBCData,t)||(e.settings.lbdParserSettings.subSettings.geometry.writeOBCData=t),b(t)}),g(6,"Write OBC specific data (Open BIM Components)"),a(),B()}if(n&2){let r=d(2);m(),p("ngModel",r.settings.lbdParserSettings.subSettings.geometry.makeOpeningsInvisible),m(2),p("ngModel",r.settings.lbdParserSettings.subSettings.geometry.makeSpacesTransparent),m(2),p("ngModel",r.settings.lbdParserSettings.subSettings.geometry.writeOBCData)}}function Ae(n,i){if(n&1){let r=C();I(0),h(1,"hr"),l(2,"p"),g(3,"LBD Export settings"),a(),l(4,"mat-form-field")(5,"mat-label"),g(6,"Namespace"),a(),l(7,"input",4),f("ngModelChange",function(t){u(r);let e=d();return _(e.settings.lbdParserSettings.namespace,t)||(e.settings.lbdParserSettings.namespace=t),b(t)}),a()(),l(8,"mat-form-field")(9,"mat-label"),g(10,"LBD triples file name"),a(),l(11,"input",4),f("ngModelChange",function(t){u(r);let e=d();return _(e.settings.lbdParserSettings.fileName,t)||(e.settings.lbdParserSettings.fileName=t),b(t)}),a()(),l(12,"div",3)(13,"p"),g(14,"Included subsets:"),a(),Z(15,Te,2,2,"mat-slide-toggle",11,Y),a(),S(17,Ee,2,1,"mat-slide-toggle",12)(18,ke,2,1,"mat-slide-toggle",12)(19,Ie,2,1,"mat-slide-toggle",12)(20,Be,2,1,"mat-slide-toggle",12)(21,Ve,4,1,"mat-form-field",6)(22,We,7,3,"ng-container",6),B()}if(n&2){let r=d();m(7),p("ngModel",r.settings.lbdParserSettings.namespace),m(4),p("ngModel",r.settings.lbdParserSettings.fileName),m(4),H(r.parsers),m(2),y("ngIf",r.enabledParsers.bot),m(),y("ngIf",r.enabledParsers.products),m(),y("ngIf",r.enabledParsers.fso),m(),y("ngIf",r.enabledParsers.qcy),m(),y("ngIf",r.enabledParsers.bpo),m(),y("ngIf",r.enabledParsers.geometry)}}function De(n,i){n&1&&h(0,"mat-progress-bar",13)}function Oe(n,i){if(n&1&&h(0,"mat-progress-bar",14),n&2){let r=d();y("value",r.progress())}}function Fe(n,i){if(n&1){let r=C();l(0,"button",9),V("click",function(){u(r);let t=d();return b(t.buildForGithub())}),g(1," Build for Github "),a()}}var bt=(()=>{let i=class i{constructor(){this._tilesService=E(Ce),this.settings=new ae,this.parsers=Object.keys(this.settings.lbdParserSettings.enabledParsers),this.enabledParsers=this.settings.lbdParserSettings.enabledParsers,this.processed=P(!1),this.processing=P(!1),this.progress=P(0),this.settings.ifcStreamingSettings.minGeometrySize=20,this.settings.ifcStreamingSettings.minAssetsSize=1e3,this.settings.propertiesStreamingSettings.propertiesSize=1e3}loadIFC(){return w(this,null,function*(){this.processed.set(!1);let s=yield se(".ifc");this.processing.set(!0);let t=c=>{console.log(`Properties: ${c} %`)},e=c=>{let o=c.progress.total;this.progress.set(o)};yield this._tilesService.processFile(s,this.settings,t,e),this.processed.set(!0),this.processing.set(!1)})}buildForGithub(){return w(this,null,function*(){yield this._tilesService.buildForGithub()})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=M({type:i,selectors:[["app-convert-tiles"]],standalone:!0,features:[T],decls:25,vars:8,consts:[["title","Convert IFC to tiles"],[2,"display","flex","flex-direction","column","gap","5px"],[1,"col"],[1,"row"],["matInput","",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[4,"ngIf"],["mode","indeterminate",4,"ngIf"],["mode","determinate",3,"value",4,"ngIf"],["mat-stroked-button","",3,"click"],["mat-stroked-button","",3,"click",4,"ngIf"],[3,"ngModel"],[3,"ngModel","ngModelChange",4,"ngIf"],["mode","indeterminate"],["mode","determinate",3,"value"]],template:function(t,e){t&1&&(l(0,"lib-page-section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-form-field")(5,"mat-label"),g(6,"Min Geometry Size"),a(),l(7,"input",4),f("ngModelChange",function(o){return _(e.settings.ifcStreamingSettings.minGeometrySize,o)||(e.settings.ifcStreamingSettings.minGeometrySize=o),o}),a()(),l(8,"mat-form-field")(9,"mat-label"),g(10,"Min Asset Size"),a(),l(11,"input",4),f("ngModelChange",function(o){return _(e.settings.ifcStreamingSettings.minAssetsSize,o)||(e.settings.ifcStreamingSettings.minAssetsSize=o),o}),a()(),l(12,"mat-form-field")(13,"mat-label"),g(14,"Properties Size"),a(),l(15,"input",4),f("ngModelChange",function(o){return _(e.settings.propertiesStreamingSettings.propertiesSize,o)||(e.settings.propertiesStreamingSettings.propertiesSize=o),o}),a()()(),l(16,"mat-slide-toggle",5),f("ngModelChange",function(o){return _(e.settings.includeLBDTriples,o)||(e.settings.includeLBDTriples=o),o}),g(17,"Include LBD triples"),a(),S(18,Ae,23,8,"ng-container",6),h(19,"hr"),a(),S(20,De,1,0,"mat-progress-bar",7)(21,Oe,1,1,"mat-progress-bar",8),l(22,"button",9),V("click",function(){return e.loadIFC()}),g(23,"Load file"),a(),S(24,Fe,2,0,"button",10),a()()),t&2&&(m(7),p("ngModel",e.settings.ifcStreamingSettings.minGeometrySize),m(4),p("ngModel",e.settings.ifcStreamingSettings.minAssetsSize),m(4),p("ngModel",e.settings.propertiesStreamingSettings.propertiesSize),m(),p("ngModel",e.settings.includeLBDTriples),m(2),y("ngIf",e.settings.includeLBDTriples),m(2),y("ngIf",e.processing()&&e.progress()===0),m(),y("ngIf",e.processing()&&e.progress()!==0),m(3),y("ngIf",e.processed()))},dependencies:[$,K,ne,re,te,pe,ce,ge,le,me,de,ue,fe,_e,ye,be,we,ve],styles:[".col[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}hr[_ngcontent-%COMP%]{border:1px solid;width:100%}"]});let n=i;return n})();export{bt as a};
