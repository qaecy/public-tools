import{a as Q}from"./chunk-ZG5KVXQC.js";import{a as P,b as q,c as U,d as G}from"./chunk-XH644ECB.js";import{b as L,e as j,f as B}from"./chunk-2ELQPX5B.js";import{b,f as V,h as N,k as W}from"./chunk-C5TAFYHE.js";import{ea as E,ha as k,ia as O}from"./chunk-L6BWHE7V.js";import{$b as w,Eb as l,Fb as i,Gb as S,Jc as D,Kb as v,Mb as F,Mc as A,Nb as x,Wb as r,Yb as _,Za as n,Zb as h,_b as M,bc as R,ia as T,ra as y,sa as z,sb as C,ub as p}from"./chunk-NZYFJ7MV.js";import{h as K,j as g}from"./chunk-RZZ4GCVR.js";var I=K(Q());function H(e,o){return g(this,null,function*(){let a=ttl2jsonld.parse(e),c=ttl2jsonld.parse(o),f=yield(0,I.canonize)(a,{algorithm:"URDNA2015",format:"application/n-quads"}),t=yield(0,I.canonize)(c,{algorithm:"URDNA2015",format:"application/n-quads"}),m=new Set(f.split(`.
`).map(s=>s.trim()).filter(s=>s!=="")),u=new Set(t.split(`.
`).map(s=>s.trim()).filter(s=>s!=="")),d=new Set([...m].filter(s=>!u.has(s))),J=new Set([...u].filter(s=>!m.has(s)));return{triplesOnlyInFile1:d,triplesOnlyInFile2:J,file1TripleCount:m.size,file2TripleCount:u.size}})}function X(e,o){if(e&1&&(l(0,"span"),r(1),i()),e&2){let a=x();n(),_("(",a.file1Size," triples)")}}function Y(e,o){if(e&1&&(l(0,"span"),r(1),i()),e&2){let a=x();n(),_("(",a.file2Size," triples)")}}function Z(e,o){if(e&1&&(l(0,"span"),r(1),i()),e&2){let a=x(2);n(),_("(",a.diff1Size," triples)")}}function $(e,o){if(e&1&&(l(0,"span"),r(1),i()),e&2){let a=x(2);n(),_("(",a.diff2Size," triples)")}}function ee(e,o){if(e&1&&(l(0,"div",2)(1,"mat-form-field",3)(2,"mat-label"),r(3,"Triples only in 1 "),C(4,Z,2,1,"span",4),i(),S(5,"textarea",9,0),i(),l(7,"mat-form-field",3)(8,"mat-label"),r(9,"Triples only in 2 "),C(10,$,2,1,"span",4),i(),S(11,"textarea",9,0),i()()),e&2){let a=x();n(4),p("ngIf",a.diff1Size),n(),p("value",a.triplesOnlyInFile1),n(5),p("ngIf",a.diff2Size),n(),p("value",a.triplesOnlyInFile2)}}function te(e,o){e&1&&(l(0,"p"),r(1,"Congratulations! The RDF contents are identical"),i())}var Se=(()=>{let o=class o{constructor(){this.file1Content="",this.file2Content="",this.triplesOnlyInFile1="",this.triplesOnlyInFile2="",this.file1Size=0,this.file2Size=0,this.diff1Size=0,this.diff2Size=0,this.identical=!1}compare(){return g(this,null,function*(){this.identical=!1;let{triplesOnlyInFile1:c,triplesOnlyInFile2:f,file1TripleCount:t,file2TripleCount:m}=yield H(this.file1Content,this.file2Content);c.size===0&&f.size===0&&(this.identical=!0),this.diff1Size=c.size,this.diff2Size=f.size,this.triplesOnlyInFile1=Array.from(c).join(`.
`),this.triplesOnlyInFile2=Array.from(f).join(`.
`),this.file1Size=t,this.file2Size=m})}};o.\u0275fac=function(f){return new(f||o)},o.\u0275cmp=T({type:o,selectors:[["app-rdf-diff"]],standalone:!0,features:[R],decls:20,vars:7,consts:[["autosize","cdkTextareaAutosize"],["title","RDF diff"],[1,"row"],[2,"width","100%"],[4,"ngIf"],["matInput","","siz","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",3,"ngModelChange","ngModel"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",3,"ngModelChange","ngModel"],["mat-stroked-button","",2,"margin-bottom","5px",3,"click","disabled"],["class","row",4,"ngIf"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",3,"value"]],template:function(f,t){if(f&1){let m=v();l(0,"lib-page-section",1)(1,"p"),r(2,"Compares two Turtle/NTriples files"),i(),l(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),r(6,"RDF 1 "),C(7,X,2,1,"span",4),i(),l(8,"textarea",5,0),w("ngModelChange",function(d){return y(m),M(t.file1Content,d)||(t.file1Content=d),z(d)}),i()(),l(10,"mat-form-field",3)(11,"mat-label"),r(12,"RDF 2 "),C(13,Y,2,1,"span",4),i(),l(14,"textarea",6,0),w("ngModelChange",function(d){return y(m),M(t.file2Content,d)||(t.file2Content=d),z(d)}),i()()(),l(16,"button",7),F("click",function(){return y(m),z(t.compare())}),r(17," Compare "),i(),C(18,ee,13,4,"div",8)(19,te,2,0,"p",4),i()}f&2&&(n(7),p("ngIf",t.file1Size),n(),h("ngModel",t.file1Content),n(5),p("ngIf",t.file2Size),n(),h("ngModel",t.file2Content),n(2),p("disabled",!t.file1Content||!t.file2Content),n(2),p("ngIf",(t.triplesOnlyInFile1||t.triplesOnlyInFile2)&&!t.identical),n(),p("ngIf",t.identical))},dependencies:[A,D,O,B,j,L,G,U,P,q,W,b,V,N,k,E],styles:[".row[_ngcontent-%COMP%]{display:flex;gap:5px;font-size:.8em}"]});let e=o;return e})();export{Se as a};
